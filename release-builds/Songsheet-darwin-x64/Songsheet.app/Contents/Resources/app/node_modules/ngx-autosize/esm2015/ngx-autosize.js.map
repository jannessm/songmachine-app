{
  "version": 3,
  "file": "ngx-autosize.js",
  "sources": [
    "ng://ngx-autosize/out/public_api.ts",
    "ng://ngx-autosize/out/src/autosize.directive.ts"
  ],
  "sourcesContent": [
    "import {NgModule, ModuleWithProviders} from '@angular/core';\nimport {Autosize} from './src/autosize.directive';\nexport * from './src/autosize.directive';\n\n@NgModule({\n    declarations: [\n        Autosize\n    ],\n    exports: [\n        Autosize\n    ]\n})\nexport class AutosizeModule {\n    static forRoot(): ModuleWithProviders {\n        return {ngModule: AutosizeModule, providers: []};\n    }\n}\n",
    "import {ElementRef, HostListener, Directive, Input} from '@angular/core';\n\nconst MAX_LOOKUP_RETRIES = 3;\n@Directive({\n    selector: '[autosize]'\n})\n\nexport class Autosize {\n    @Input() minRows: number;\n    @Input() maxRows: number;\n\n    @HostListener('input',['$event.target'])\n    onInput(textArea: HTMLTextAreaElement): void {\n        this.adjust();\n    }\n    private retries: number = 0;\n    private textAreaEl: any;\n    constructor(public element: ElementRef) {\n        if (this.element.nativeElement.tagName !== 'TEXTAREA') {\n            this._findNestedTextArea();\n\n        } else {\n            this.textAreaEl = this.element.nativeElement;\n        }\n    }\n    _findNestedTextArea() {\n        this.textAreaEl = this.element.nativeElement.getElementsByTagName('TEXTAREA')[0];\n        if (!this.textAreaEl) {\n            if (this.retries >= MAX_LOOKUP_RETRIES) {\n                console.warn('angular2-autosize: textarea not found');\n\n            } else {\n                this.retries++;\n                setTimeout(() => {\n                    this._findNestedTextArea();\n                }, 100);\n            }\n        }\n    }\n    ngAfterContentChecked(): void{\n        this.adjust();\n    }\n    adjust(): void {\n        if (this.textAreaEl) {\n            let clone = this.textAreaEl.cloneNode(true);\n            let parent = this.textAreaEl.parentElement;\n            clone.style.visibility = 'hidden';\n            parent.appendChild(clone);\n\n            clone.style.overflow = 'hidden';\n            clone.style.height = 'auto';\n\n            let lineHeight = this._getLineHeight();\n            let height = clone.scrollHeight;\n            let rowsCount = height / lineHeight;\n            if (this.minRows && this.minRows >= rowsCount) {\n                clone.style.overflow = 'auto';\n                height = this.minRows * lineHeight;\n\n            } else if(this.maxRows && this.maxRows <= rowsCount) {\n                clone.style.overflow = 'auto';\n                height = this.maxRows * lineHeight;\n            }\n\n            this.textAreaEl.style.height = height + 'px';\n            parent.removeChild(clone);\n        }\n    }\n\n    private _getLineHeight() {\n        let lineHeight = parseInt(this.textAreaEl.style.lineHeight, 10);\n        if (isNaN(lineHeight)) {\n            let fontSize = window.getComputedStyle(this.textAreaEl, null).getPropertyValue('font-size');\n            lineHeight = Math.floor(parseInt(fontSize.replace('px','')) * 1.5);\n        }\n\n        return lineHeight;\n    }\n}\n"
  ],
  "names": [],
  "mappings": "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"
}
