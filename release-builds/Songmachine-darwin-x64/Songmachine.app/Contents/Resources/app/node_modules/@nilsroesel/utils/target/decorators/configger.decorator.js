"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function Configger(config, stdConfig) {
    var completeConfig = {};
    for (var key in stdConfig) {
        completeConfig[key] = mergeKeys(config[key], stdConfig[key]);
    }
    return function (target, key) {
        target[key] = completeConfig;
    };
}
exports.Configger = Configger;
function mergeKeys(configProperty, stdConfigProperty) {
    var evaluated = {};
    if (configProperty && stdConfigProperty instanceof Object && !(stdConfigProperty instanceof Array)) {
        for (var key in stdConfigProperty) {
            evaluated[key] = mergeKeys(configProperty[key], stdConfigProperty[key]);
        }
    }
    else if (stdConfigProperty instanceof Array) {
        evaluated = new Array();
        var biggerArray = (configProperty.length > stdConfigProperty.length)
            ? configProperty : stdConfigProperty;
        biggerArray.forEach(function (element, index) {
            if (!(index > configProperty.length - 1))
                evaluated.push(configProperty[index]);
            else
                evaluated.push(element);
        });
    }
    else {
        evaluated = stdConfigProperty;
        if (configProperty !== undefined)
            evaluated = configProperty;
    }
    return evaluated;
}
